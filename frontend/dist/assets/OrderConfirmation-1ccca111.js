import{j as e,O as h,a as b,A as p}from"./index-d9119759.js";import{r as a}from"./vendor-5fe3892a.js";import{c as u,L as o}from"./router-51faa6cb.js";const g=()=>{const{id:l}=u(),[s,c]=a.useState(null),[m,n]=a.useState(!0),[i,x]=a.useState("");if(a.useEffect(()=>{l&&(async()=>{try{n(!0);const t=await b.get(`${p}/api/orders/${l}`);c(t.data)}catch(t){console.error("Error fetching order:",t),x("Unable to load order details. Please try again later.")}finally{n(!1)}})()},[l]),m)return e.jsx("div",{className:"bg-amber-50 min-h-screen py-16 flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-amber-600"})});if(i||!s)return e.jsx("div",{className:"bg-amber-50 min-h-screen py-16",children:e.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-amber-900 mb-4",children:"Order Error"}),e.jsx("p",{className:"text-gray-600 mb-8",children:i||"Order not found"}),e.jsx(o,{to:"/menu",className:"px-6 py-3 bg-amber-600 text-white font-medium rounded-lg hover:bg-amber-700",children:"Return to Menu"})]})})});const d=h[s.status]||{color:"gray",text:s.status};return e.jsx("div",{className:"bg-amber-50 min-h-screen py-12",children:e.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-amber-900",children:"Order Confirmation"}),e.jsx("span",{className:`inline-block px-3 py-1 rounded-full bg-${d.color}-100 text-${d.color}-800 text-sm font-medium`,children:d.text})]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Thank you for your order! We've received your order and it's being processed."})]}),e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-amber-900 mb-3",children:"Order Details"}),e.jsxs("p",{className:"text-gray-600",children:["Order ID: ",s._id]}),e.jsxs("p",{className:"text-gray-600",children:["Date: ",new Date(s.createdAt).toLocaleString()]}),e.jsxs("p",{className:"text-gray-600",children:["Payment Method: ",s.paymentMethod]}),s.estimatedDelivery&&e.jsxs("p",{className:"text-gray-600",children:["Estimated Delivery: ",new Date(s.estimatedDelivery).toLocaleString()]})]}),e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-amber-900 mb-3",children:"Items"}),s.items.map((r,t)=>e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 last:border-b-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:r.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",r.quantity]})]}),e.jsxs("p",{className:"font-medium",children:["$",(r.price*r.quantity).toFixed(2)]})]},t)),e.jsxs("div",{className:"flex justify-between pt-4 font-bold",children:[e.jsx("p",{children:"Total"}),e.jsxs("p",{children:["$",s.totalAmount.toFixed(2)]})]})]}),e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-amber-900 mb-3",children:"Delivery Information"}),e.jsx("p",{className:"font-medium",children:s.customer.name}),e.jsx("p",{className:"text-gray-600",children:s.customer.email}),e.jsx("p",{className:"text-gray-600",children:s.customer.phone}),e.jsx("p",{className:"text-gray-600 mt-2",children:s.customer.address}),s.deliveryInstructions&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"font-medium",children:"Delivery Instructions:"}),e.jsx("p",{className:"text-gray-600",children:s.deliveryInstructions})]})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"text-center",children:e.jsx(o,{to:"/menu",className:"px-6 py-3 bg-amber-600 text-white font-medium rounded-lg hover:bg-amber-700",children:"Continue Shopping"})})})]})})})};export{g as default};
